'use strict';function _toConsumableArray(a){if(Array.isArray(a)){for(var b=0,c=Array(a.length);b<a.length;b++)c[b]=a[b];return c}return Array.from(a)}(function(){function a(){r=[],[].concat(_toConsumableArray(document.getElementsByClassName('thumbnail_block'))).forEach(function(w){return w.remove()}),f()}function b(w){[].concat(_toConsumableArray(w)).forEach(function(x){h(x.name)?d(x):k('File "'+x.name+'" have wrong extension!',!0)})}function c(){var w=parseInt(this);r=r.filter(function(x){return x.lastModified!==w}),f(),[].concat(_toConsumableArray(document.getElementsByClassName('thumbnail_block'))).forEach(function(x){x.children[0].dataset.id==w&&x.remove()})}function d(w){var x=document.createElement('div'),y=new FileReader;y.readAsDataURL(w),y.onloadstart=function(){x.className='thumbnail_block',x.innerHTML='\n                '+'<svg class="loader_icon" fill="#000000" height="48" viewBox="0 0 24 24" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M19 8l-4 4h3c0 3.31-2.69 6-6 6-1.01 0-1.97-.25-2.8-.7l-1.46 1.46C8.97 19.54 10.43 20 12 20c4.42 0 8-3.58 8-8h3l-4-4zM6 12c0-3.31 2.69-6 6-6 1.01 0 1.97.25 2.8.7l1.46-1.46C15.03 4.46 13.57 4 12 4c-4.42 0-8 3.58-8 8H1l4 4 4-4H6z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'+'\n            ',q.appendChild(x)},y.onloadend=function(){var z=w.lastModified;x.innerHTML='\n                <img src="'+y.result+'" data-id="'+z+'" />\n                '+'<svg class="close_icon" height="48" viewBox="0 0 24 24" width="48" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/><path d="M0 0h24v24H0z" fill="none"/></svg>'+'\n            ',x.children[1].addEventListener('click',c.bind(z),!1),r.push(w),f()}}function f(){0<r.length?(t.id='form_btn',t.innerText='Upload',p.appendChild(t),m.style.paddingBottom='60px'):(document.getElementById('form_btn').remove(),m.style.paddingBottom='0')}function g(w){var y=new XMLHttpRequest,z=new FormData;y.open('POST','/php/upload.php',!0),y.addEventListener('readystatechange',function(){4==y.readyState&&200==y.status?k('All images were uploaded successful!',!1):4==y.readyState&&200!=y.status&&k('Something is wrong, images were not uploaded!',!0)}),z.append('file',w),y.send(z)}function h(w){var y=w.split('.').pop(),z=!1;return s.forEach(function(A){A.toLowerCase()===y.toLowerCase()&&(z=!0)}),z}function j(w,x,y){x.forEach(function(z){w.addEventListener(z,y,!1)})}function k(w,x){var y=document.createElement('div');y.className=x?'notify_dangerous':'notify_success',y.id='notify_container',y.innerHTML='\n            <h3 class="notify_text">'+w+'</h3>  \n        ',o.appendChild(y),setTimeout(function(){y.style.opacity='1'},300),setTimeout(function(){y.style.opacity='0',setTimeout(function(){document.getElementById('notify_container').remove()},300)},3e3)}var l=document.getElementById('form_input'),m=document.getElementById('drop-field'),n=document.getElementById('drag-cover'),o=document.getElementById('drag-container'),p=document.getElementById('main-form'),q=document.getElementById('thumbnails'),r=[],s=['jpg','jpeg','png','gif','pdf'],t=document.createElement('button');j(o,['dragenter','dragover','dragleave','drop'],function(w){w.preventDefault()}),t.addEventListener('click',function(w){w.preventDefault()},!1),j(m,['dragover','dragenter'],function(){m.classList.add('dragedover_container')}),j(n,['dragleave','drop'],function(){m.classList.remove('dragedover_container')}),m.addEventListener('drop',function(w){b(w.dataTransfer.files)},!1),l.addEventListener('change',function(w){b(w.srcElement.files)},!1);t.addEventListener('click',function(){r.forEach(function(x){return g(x)}),a()})})();